"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/issues/route";
exports.ids = ["app/api/issues/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fissues%2Froute&page=%2Fapi%2Fissues%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fissues%2Froute.ts&appDir=C%3A%5CFixMyCity%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CFixMyCity&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fissues%2Froute&page=%2Fapi%2Fissues%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fissues%2Froute.ts&appDir=C%3A%5CFixMyCity%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CFixMyCity&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_FixMyCity_src_app_api_issues_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/issues/route.ts */ \"(rsc)/./src/app/api/issues/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/issues/route\",\n        pathname: \"/api/issues\",\n        filename: \"route\",\n        bundlePath: \"app/api/issues/route\"\n    },\n    resolvedPagePath: \"C:\\\\FixMyCity\\\\src\\\\app\\\\api\\\\issues\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_FixMyCity_src_app_api_issues_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/issues/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZpc3N1ZXMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmlzc3VlcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmlzc3VlcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDRml4TXlDaXR5JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDRml4TXlDaXR5JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNGO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZml4bXljaXR5Lz9hZTJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXEZpeE15Q2l0eVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxpc3N1ZXNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2lzc3Vlcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2lzc3Vlc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvaXNzdWVzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcRml4TXlDaXR5XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGlzc3Vlc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvaXNzdWVzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fissues%2Froute&page=%2Fapi%2Fissues%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fissues%2Froute.ts&appDir=C%3A%5CFixMyCity%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CFixMyCity&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/issues/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/issues/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n/* harmony import */ var _lib_mockData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/mockData */ \"(rsc)/./src/lib/mockData.ts\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const createdBy = searchParams.get(\"createdBy\");\n        const status = searchParams.get(\"status\");\n        const role = searchParams.get(\"role\");\n        try {\n            const { db } = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n            const issuesCollection = db.collection(\"issues\");\n            let query = {};\n            // Filter by creator if specified\n            if (createdBy) {\n                query.createdBy = new mongodb__WEBPACK_IMPORTED_MODULE_3__.ObjectId(createdBy);\n            }\n            // Filter by status if specified\n            if (status) {\n                query.status = status;\n            }\n            const issues = await issuesCollection.find(query).sort({\n                createdAt: -1\n            }).toArray();\n            // Populate user information\n            const usersCollection = db.collection(\"users\");\n            const issuesWithUsers = await Promise.all(issues.map(async (issue)=>{\n                const user = await usersCollection.findOne({\n                    _id: issue.createdBy\n                });\n                return {\n                    ...issue,\n                    createdBy: user ? {\n                        name: user.name,\n                        email: user.email\n                    } : null\n                };\n            }));\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                issues: issuesWithUsers\n            });\n        } catch (e) {\n            const issues = (0,_lib_mockData__WEBPACK_IMPORTED_MODULE_2__.mockGetIssues)({\n                createdBy: createdBy || undefined,\n                status: status || undefined\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                issues\n            });\n        }\n    } catch (error) {\n        console.error(\"Get issues error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const data = await request.json();\n        if (!data.title || !data.description || !data.location || !data.createdBy) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing required fields\"\n            }, {\n                status: 400\n            });\n        }\n        try {\n            const { db } = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n            const issuesCollection = db.collection(\"issues\");\n            const issue = {\n                title: data.title,\n                description: data.description,\n                location: data.location,\n                status: \"pending\",\n                createdBy: new mongodb__WEBPACK_IMPORTED_MODULE_3__.ObjectId(data.createdBy),\n                createdAt: new Date(),\n                updatedAt: new Date(),\n                photoUrl: data.photoUrl\n            };\n            const result = await issuesCollection.insertOne(issue);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                issue: {\n                    ...issue,\n                    _id: result.insertedId\n                }\n            });\n        } catch (e) {\n            const issue = (0,_lib_mockData__WEBPACK_IMPORTED_MODULE_2__.mockCreateIssue)({\n                title: data.title,\n                description: data.description,\n                location: data.location,\n                createdBy: data.createdBy,\n                photoUrl: data.photoUrl\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                issue\n            });\n        }\n    } catch (error) {\n        console.error(\"Create issue error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXLElBQUl1QjtnQkFDZkMsV0FBVyxJQUFJRDtnQkFDZkUsVUFBVU4sS0FBS00sUUFBUTtZQUN6QjtZQUVBLE1BQU1DLFNBQVMsTUFBTWhDLGlCQUFpQmlDLFNBQVMsQ0FBQ3BCO1lBRWhELE9BQU81QixxREFBWUEsQ0FBQ2tDLElBQUksQ0FBQztnQkFDdkJlLFNBQVM7Z0JBQ1RyQixPQUFPO29CQUFFLEdBQUdBLEtBQUs7b0JBQUVHLEtBQUtnQixPQUFPRyxVQUFVO2dCQUFDO1lBQzVDO1FBQ0YsRUFBRSxPQUFPZixHQUFHO1lBQ1YsTUFBTVAsUUFBUTFCLDhEQUFlQSxDQUFDO2dCQUM1QnVDLE9BQU9ELEtBQUtDLEtBQUs7Z0JBQ2pCQyxhQUFhRixLQUFLRSxXQUFXO2dCQUM3QkMsVUFBVUgsS0FBS0csUUFBUTtnQkFDdkJqQyxXQUFXOEIsS0FBSzlCLFNBQVM7Z0JBQ3pCb0MsVUFBVU4sS0FBS00sUUFBUTtZQUN6QjtZQUNBLE9BQU85QyxxREFBWUEsQ0FBQ2tDLElBQUksQ0FBQztnQkFBRWUsU0FBUztnQkFBTXJCO1lBQU07UUFDbEQ7SUFDRixFQUFFLE9BQU9TLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHVCQUF1QkE7UUFDckMsT0FBT3JDLHFEQUFZQSxDQUFDa0MsSUFBSSxDQUFDO1lBQUVHLE9BQU87UUFBd0IsR0FBRztZQUFFekIsUUFBUTtRQUFJO0lBQzdFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXhteWNpdHkvLi9zcmMvYXBwL2FwaS9pc3N1ZXMvcm91dGUudHM/MmMzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0VG9EYXRhYmFzZSB9IGZyb20gJ0AvbGliL21vbmdvZGInO1xyXG5pbXBvcnQgeyBtb2NrQ3JlYXRlSXNzdWUsIG1vY2tHZXRJc3N1ZXMgfSBmcm9tICdAL2xpYi9tb2NrRGF0YSc7XHJcbmltcG9ydCB7IElzc3VlLCBDcmVhdGVJc3N1ZURhdGEgfSBmcm9tICdAL21vZGVscy9Jc3N1ZSc7XHJcbmltcG9ydCB7IE9iamVjdElkIH0gZnJvbSAnbW9uZ29kYic7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcclxuICAgIGNvbnN0IGNyZWF0ZWRCeSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2NyZWF0ZWRCeScpO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gc2VhcmNoUGFyYW1zLmdldCgnc3RhdHVzJyk7XHJcbiAgICBjb25zdCByb2xlID0gc2VhcmNoUGFyYW1zLmdldCgncm9sZScpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZGIgfSA9IGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKCk7XHJcbiAgICAgIGNvbnN0IGlzc3Vlc0NvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uPElzc3VlPignaXNzdWVzJyk7XHJcbiAgICBcclxuICAgIGxldCBxdWVyeTogYW55ID0ge307XHJcbiAgICBcclxuICAgIC8vIEZpbHRlciBieSBjcmVhdG9yIGlmIHNwZWNpZmllZFxyXG4gICAgaWYgKGNyZWF0ZWRCeSkge1xyXG4gICAgICBxdWVyeS5jcmVhdGVkQnkgPSBuZXcgT2JqZWN0SWQoY3JlYXRlZEJ5KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRmlsdGVyIGJ5IHN0YXR1cyBpZiBzcGVjaWZpZWRcclxuICAgIGlmIChzdGF0dXMpIHtcclxuICAgICAgcXVlcnkuc3RhdHVzID0gc3RhdHVzO1xyXG4gICAgfVxyXG5cclxuICAgICAgY29uc3QgaXNzdWVzID0gYXdhaXQgaXNzdWVzQ29sbGVjdGlvblxyXG4gICAgICAgIC5maW5kKHF1ZXJ5KVxyXG4gICAgICAgIC5zb3J0KHsgY3JlYXRlZEF0OiAtMSB9KVxyXG4gICAgICAgIC50b0FycmF5KCk7XHJcblxyXG4gICAgLy8gUG9wdWxhdGUgdXNlciBpbmZvcm1hdGlvblxyXG4gICAgICBjb25zdCB1c2Vyc0NvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCd1c2VycycpO1xyXG4gICAgICBjb25zdCBpc3N1ZXNXaXRoVXNlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgICBpc3N1ZXMubWFwKGFzeW5jIChpc3N1ZSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJzQ29sbGVjdGlvbi5maW5kT25lKHsgX2lkOiBpc3N1ZS5jcmVhdGVkQnkgfSk7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAuLi5pc3N1ZSxcclxuICAgICAgICAgICAgY3JlYXRlZEJ5OiB1c2VyID8geyBuYW1lOiB1c2VyLm5hbWUsIGVtYWlsOiB1c2VyLmVtYWlsIH0gOiBudWxsXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBpc3N1ZXM6IGlzc3Vlc1dpdGhVc2VycyB9KTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc3QgaXNzdWVzID0gbW9ja0dldElzc3Vlcyh7XHJcbiAgICAgICAgY3JlYXRlZEJ5OiBjcmVhdGVkQnkgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgIHN0YXR1czogKHN0YXR1cyBhcyBhbnkpIHx8IHVuZGVmaW5lZCxcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGlzc3VlcyB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignR2V0IGlzc3VlcyBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGE6IENyZWF0ZUlzc3VlRGF0YSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgXHJcbiAgICBpZiAoIWRhdGEudGl0bGUgfHwgIWRhdGEuZGVzY3JpcHRpb24gfHwgIWRhdGEubG9jYXRpb24gfHwgIWRhdGEuY3JlYXRlZEJ5KSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBkYiB9ID0gYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKTtcclxuICAgICAgY29uc3QgaXNzdWVzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb248SXNzdWU+KCdpc3N1ZXMnKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGlzc3VlOiBPbWl0PElzc3VlLCAnX2lkJz4gPSB7XHJcbiAgICAgICAgdGl0bGU6IGRhdGEudGl0bGUsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgbG9jYXRpb246IGRhdGEubG9jYXRpb24sXHJcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXHJcbiAgICAgICAgY3JlYXRlZEJ5OiBuZXcgT2JqZWN0SWQoZGF0YS5jcmVhdGVkQnkpLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgcGhvdG9Vcmw6IGRhdGEucGhvdG9VcmxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGlzc3Vlc0NvbGxlY3Rpb24uaW5zZXJ0T25lKGlzc3VlKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsIFxyXG4gICAgICAgIGlzc3VlOiB7IC4uLmlzc3VlLCBfaWQ6IHJlc3VsdC5pbnNlcnRlZElkIH0gXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zdCBpc3N1ZSA9IG1vY2tDcmVhdGVJc3N1ZSh7XHJcbiAgICAgICAgdGl0bGU6IGRhdGEudGl0bGUsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgbG9jYXRpb246IGRhdGEubG9jYXRpb24sXHJcbiAgICAgICAgY3JlYXRlZEJ5OiBkYXRhLmNyZWF0ZWRCeSxcclxuICAgICAgICBwaG90b1VybDogZGF0YS5waG90b1VybCxcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGlzc3VlIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdDcmVhdGUgaXNzdWUgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjb25uZWN0VG9EYXRhYmFzZSIsIm1vY2tDcmVhdGVJc3N1ZSIsIm1vY2tHZXRJc3N1ZXMiLCJPYmplY3RJZCIsIkdFVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJjcmVhdGVkQnkiLCJnZXQiLCJzdGF0dXMiLCJyb2xlIiwiZGIiLCJpc3N1ZXNDb2xsZWN0aW9uIiwiY29sbGVjdGlvbiIsInF1ZXJ5IiwiaXNzdWVzIiwiZmluZCIsInNvcnQiLCJjcmVhdGVkQXQiLCJ0b0FycmF5IiwidXNlcnNDb2xsZWN0aW9uIiwiaXNzdWVzV2l0aFVzZXJzIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsImlzc3VlIiwidXNlciIsImZpbmRPbmUiLCJfaWQiLCJuYW1lIiwiZW1haWwiLCJqc29uIiwiZSIsInVuZGVmaW5lZCIsImVycm9yIiwiY29uc29sZSIsIlBPU1QiLCJkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImxvY2F0aW9uIiwiRGF0ZSIsInVwZGF0ZWRBdCIsInBob3RvVXJsIiwicmVzdWx0IiwiaW5zZXJ0T25lIiwic3VjY2VzcyIsImluc2VydGVkSWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/issues/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mockData.ts":
/*!*****************************!*\
  !*** ./src/lib/mockData.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mockCreateIssue: () => (/* binding */ mockCreateIssue),\n/* harmony export */   mockCreateUser: () => (/* binding */ mockCreateUser),\n/* harmony export */   mockDeleteIssue: () => (/* binding */ mockDeleteIssue),\n/* harmony export */   mockDeleteUser: () => (/* binding */ mockDeleteUser),\n/* harmony export */   mockGetIssues: () => (/* binding */ mockGetIssues),\n/* harmony export */   mockGetUsers: () => (/* binding */ mockGetUsers),\n/* harmony export */   mockUpdateIssue: () => (/* binding */ mockUpdateIssue)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nconst now = ()=>new Date().toISOString();\n// Seed data once per process\nconst seedUsers = [\n    {\n        _id: (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)(),\n        name: \"John Doe\",\n        email: \"john.doe@example.com\",\n        role: \"citizen\",\n        createdAt: now(),\n        updatedAt: now()\n    },\n    {\n        _id: (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)(),\n        name: \"Jane Smith\",\n        email: \"jane.smith@municipal.gov\",\n        role: \"municipal\",\n        createdAt: now(),\n        updatedAt: now()\n    },\n    {\n        _id: (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)(),\n        name: \"Admin User\",\n        email: \"admin@fixmycity.gov\",\n        role: \"admin\",\n        createdAt: now(),\n        updatedAt: now()\n    },\n    {\n        _id: (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)(),\n        name: \"Mike Johnson\",\n        email: \"mike.johnson@municipal.gov\",\n        role: \"municipal\",\n        createdAt: now(),\n        updatedAt: now()\n    },\n    {\n        _id: (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)(),\n        name: \"Sarah Wilson\",\n        email: \"sarah.wilson@example.com\",\n        role: \"citizen\",\n        createdAt: now(),\n        updatedAt: now()\n    }\n];\nconst U0 = seedUsers[0]._id;\nconst U4 = seedUsers[4]._id;\nconst seedIssues = [\n    {\n        _id: (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)(),\n        title: \"Pothole on Main Street\",\n        description: \"Large pothole causing damage to vehicles. Located near the intersection of Main Street and Oak Avenue.\",\n        location: \"Main Street & Oak Avenue\",\n        status: \"pending\",\n        createdBy: U0,\n        createdAt: new Date(Date.now() - 5 * 864e5).toISOString(),\n        updatedAt: new Date(Date.now() - 5 * 864e5).toISOString(),\n        photoUrl: \"https://via.placeholder.com/400x300?text=Pothole+Photo\"\n    },\n    {\n        _id: (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)(),\n        title: \"Broken Street Light\",\n        description: \"Street light has been flickering and completely went out last night. Safety concern for pedestrians.\",\n        location: \"123 Elm Street\",\n        status: \"in_progress\",\n        createdBy: U0,\n        createdAt: new Date(Date.now() - 3 * 864e5).toISOString(),\n        updatedAt: new Date(Date.now() - 1 * 864e5).toISOString(),\n        photoUrl: \"https://via.placeholder.com/400x300?text=Street+Light+Photo\"\n    },\n    {\n        _id: (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)(),\n        title: \"Garbage Collection Missed\",\n        description: \"Garbage was not collected on our street this week. Bins are overflowing.\",\n        location: \"456 Pine Street\",\n        status: \"solved\",\n        createdBy: U4,\n        createdAt: new Date(Date.now() - 7 * 864e5).toISOString(),\n        updatedAt: new Date(Date.now() - 2 * 864e5).toISOString(),\n        photoUrl: \"https://via.placeholder.com/400x300?text=Garbage+Photo\"\n    }\n];\nconst db = {\n    users: [\n        ...seedUsers\n    ],\n    issues: [\n        ...seedIssues\n    ]\n};\nfunction mockGetUsers(role) {\n    const users = role ? db.users.filter((u)=>u.role === role) : db.users;\n    return users.sort((a, b)=>b.createdAt.localeCompare(a.createdAt));\n}\nfunction mockCreateUser(input) {\n    if (db.users.some((u)=>u.email === input.email)) {\n        throw new Error(\"User with this email already exists\");\n    }\n    const user = {\n        _id: (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)(),\n        name: input.name,\n        email: input.email,\n        role: input.role,\n        createdAt: now(),\n        updatedAt: now()\n    };\n    db.users.unshift(user);\n    return user;\n}\nfunction mockDeleteUser(userId) {\n    const before = db.users.length;\n    db.users = db.users.filter((u)=>u._id !== userId);\n    return db.users.length !== before;\n}\nfunction mockGetIssues(filter = {}) {\n    let issues = db.issues.slice();\n    if (filter.createdBy) issues = issues.filter((i)=>i.createdBy === filter.createdBy);\n    if (filter.status) issues = issues.filter((i)=>i.status === filter.status);\n    const usersById = new Map(db.users.map((u)=>[\n            u._id,\n            u\n        ]));\n    return issues.sort((a, b)=>b.createdAt.localeCompare(a.createdAt)).map((i)=>({\n            ...i,\n            createdBy: usersById.get(i.createdBy)?.name ? {\n                name: usersById.get(i.createdBy).name,\n                email: usersById.get(i.createdBy).email\n            } : null\n        }));\n}\nfunction mockCreateIssue(input) {\n    const issue = {\n        _id: (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)(),\n        title: input.title,\n        description: input.description,\n        location: input.location,\n        status: \"pending\",\n        createdBy: input.createdBy,\n        createdAt: now(),\n        updatedAt: now(),\n        photoUrl: input.photoUrl\n    };\n    db.issues.unshift(issue);\n    return issue;\n}\nfunction mockUpdateIssue(id, update) {\n    const idx = db.issues.findIndex((i)=>i._id === id);\n    if (idx === -1) return false;\n    db.issues[idx] = {\n        ...db.issues[idx],\n        ...update,\n        updatedAt: now()\n    };\n    return true;\n}\nfunction mockDeleteIssue(id) {\n    const before = db.issues.length;\n    db.issues = db.issues.filter((i)=>i._id !== id);\n    return db.issues.length !== before;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cmNlcyI6WyJ3ZWJwYWNrOi8vZml4bXljaXR5Ly4vc3JjL2xpYi9tb2NrRGF0YS50cz9mZmZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJhbmRvbVVVSUQgfSBmcm9tICdjcnlwdG8nO1xyXG5cclxudHlwZSBJc3N1ZVN0YXR1cyA9ICdwZW5kaW5nJyB8ICdpbl9wcm9ncmVzcycgfCAnc29sdmVkJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTW9ja1VzZXIge1xyXG4gIF9pZDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIHJvbGU6ICdjaXRpemVuJyB8ICdtdW5pY2lwYWwnIHwgJ2FkbWluJztcclxuICBjcmVhdGVkQXQ6IHN0cmluZztcclxuICB1cGRhdGVkQXQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNb2NrSXNzdWUge1xyXG4gIF9pZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBsb2NhdGlvbjogc3RyaW5nO1xyXG4gIHN0YXR1czogSXNzdWVTdGF0dXM7XHJcbiAgY3JlYXRlZEJ5OiBzdHJpbmc7XHJcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XHJcbiAgcGhvdG9Vcmw/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmNvbnN0IG5vdyA9ICgpID0+IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuXHJcbi8vIFNlZWQgZGF0YSBvbmNlIHBlciBwcm9jZXNzXHJcbmNvbnN0IHNlZWRVc2VyczogTW9ja1VzZXJbXSA9IFtcclxuICB7IF9pZDogcmFuZG9tVVVJRCgpLCBuYW1lOiAnSm9obiBEb2UnLCBlbWFpbDogJ2pvaG4uZG9lQGV4YW1wbGUuY29tJywgcm9sZTogJ2NpdGl6ZW4nLCBjcmVhdGVkQXQ6IG5vdygpLCB1cGRhdGVkQXQ6IG5vdygpIH0sXHJcbiAgeyBfaWQ6IHJhbmRvbVVVSUQoKSwgbmFtZTogJ0phbmUgU21pdGgnLCBlbWFpbDogJ2phbmUuc21pdGhAbXVuaWNpcGFsLmdvdicsIHJvbGU6ICdtdW5pY2lwYWwnLCBjcmVhdGVkQXQ6IG5vdygpLCB1cGRhdGVkQXQ6IG5vdygpIH0sXHJcbiAgeyBfaWQ6IHJhbmRvbVVVSUQoKSwgbmFtZTogJ0FkbWluIFVzZXInLCBlbWFpbDogJ2FkbWluQGZpeG15Y2l0eS5nb3YnLCByb2xlOiAnYWRtaW4nLCBjcmVhdGVkQXQ6IG5vdygpLCB1cGRhdGVkQXQ6IG5vdygpIH0sXHJcbiAgeyBfaWQ6IHJhbmRvbVVVSUQoKSwgbmFtZTogJ01pa2UgSm9obnNvbicsIGVtYWlsOiAnbWlrZS5qb2huc29uQG11bmljaXBhbC5nb3YnLCByb2xlOiAnbXVuaWNpcGFsJywgY3JlYXRlZEF0OiBub3coKSwgdXBkYXRlZEF0OiBub3coKSB9LFxyXG4gIHsgX2lkOiByYW5kb21VVUlEKCksIG5hbWU6ICdTYXJhaCBXaWxzb24nLCBlbWFpbDogJ3NhcmFoLndpbHNvbkBleGFtcGxlLmNvbScsIHJvbGU6ICdjaXRpemVuJywgY3JlYXRlZEF0OiBub3coKSwgdXBkYXRlZEF0OiBub3coKSB9XHJcbl07XHJcblxyXG5jb25zdCBVMCA9IHNlZWRVc2Vyc1swXS5faWQ7XHJcbmNvbnN0IFU0ID0gc2VlZFVzZXJzWzRdLl9pZDtcclxuXHJcbmNvbnN0IHNlZWRJc3N1ZXM6IE1vY2tJc3N1ZVtdID0gW1xyXG4gIHsgX2lkOiByYW5kb21VVUlEKCksIHRpdGxlOiAnUG90aG9sZSBvbiBNYWluIFN0cmVldCcsIGRlc2NyaXB0aW9uOiAnTGFyZ2UgcG90aG9sZSBjYXVzaW5nIGRhbWFnZSB0byB2ZWhpY2xlcy4gTG9jYXRlZCBuZWFyIHRoZSBpbnRlcnNlY3Rpb24gb2YgTWFpbiBTdHJlZXQgYW5kIE9hayBBdmVudWUuJywgbG9jYXRpb246ICdNYWluIFN0cmVldCAmIE9hayBBdmVudWUnLCBzdGF0dXM6ICdwZW5kaW5nJywgY3JlYXRlZEJ5OiBVMCwgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNSAqIDg2NGU1KS50b0lTT1N0cmluZygpLCB1cGRhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSA1ICogODY0ZTUpLnRvSVNPU3RyaW5nKCksIHBob3RvVXJsOiAnaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzQwMHgzMDA/dGV4dD1Qb3Rob2xlK1Bob3RvJyB9LFxyXG4gIHsgX2lkOiByYW5kb21VVUlEKCksIHRpdGxlOiAnQnJva2VuIFN0cmVldCBMaWdodCcsIGRlc2NyaXB0aW9uOiAnU3RyZWV0IGxpZ2h0IGhhcyBiZWVuIGZsaWNrZXJpbmcgYW5kIGNvbXBsZXRlbHkgd2VudCBvdXQgbGFzdCBuaWdodC4gU2FmZXR5IGNvbmNlcm4gZm9yIHBlZGVzdHJpYW5zLicsIGxvY2F0aW9uOiAnMTIzIEVsbSBTdHJlZXQnLCBzdGF0dXM6ICdpbl9wcm9ncmVzcycsIGNyZWF0ZWRCeTogVTAsIGNyZWF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDMgKiA4NjRlNSkudG9JU09TdHJpbmcoKSwgdXBkYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMSAqIDg2NGU1KS50b0lTT1N0cmluZygpLCBwaG90b1VybDogJ2h0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS80MDB4MzAwP3RleHQ9U3RyZWV0K0xpZ2h0K1Bob3RvJyB9LFxyXG4gIHsgX2lkOiByYW5kb21VVUlEKCksIHRpdGxlOiAnR2FyYmFnZSBDb2xsZWN0aW9uIE1pc3NlZCcsIGRlc2NyaXB0aW9uOiAnR2FyYmFnZSB3YXMgbm90IGNvbGxlY3RlZCBvbiBvdXIgc3RyZWV0IHRoaXMgd2Vlay4gQmlucyBhcmUgb3ZlcmZsb3dpbmcuJywgbG9jYXRpb246ICc0NTYgUGluZSBTdHJlZXQnLCBzdGF0dXM6ICdzb2x2ZWQnLCBjcmVhdGVkQnk6IFU0LCBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSA3ICogODY0ZTUpLnRvSVNPU3RyaW5nKCksIHVwZGF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDIgKiA4NjRlNSkudG9JU09TdHJpbmcoKSwgcGhvdG9Vcmw6ICdodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vNDAweDMwMD90ZXh0PUdhcmJhZ2UrUGhvdG8nIH1cclxuXTtcclxuXHJcbmNvbnN0IGRiID0ge1xyXG4gIHVzZXJzOiBbLi4uc2VlZFVzZXJzXSBhcyBNb2NrVXNlcltdLFxyXG4gIGlzc3VlczogWy4uLnNlZWRJc3N1ZXNdIGFzIE1vY2tJc3N1ZVtdLFxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1vY2tHZXRVc2Vycyhyb2xlPzogc3RyaW5nKSB7XHJcbiAgY29uc3QgdXNlcnMgPSByb2xlID8gZGIudXNlcnMuZmlsdGVyKHUgPT4gdS5yb2xlID09PSByb2xlKSA6IGRiLnVzZXJzO1xyXG4gIHJldHVybiB1c2Vycy5zb3J0KChhLCBiKSA9PiBiLmNyZWF0ZWRBdC5sb2NhbGVDb21wYXJlKGEuY3JlYXRlZEF0KSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtb2NrQ3JlYXRlVXNlcihpbnB1dDogeyBuYW1lOiBzdHJpbmc7IGVtYWlsOiBzdHJpbmc7IHJvbGU6IE1vY2tVc2VyWydyb2xlJ10gfSkge1xyXG4gIGlmIChkYi51c2Vycy5zb21lKHUgPT4gdS5lbWFpbCA9PT0gaW5wdXQuZW1haWwpKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzJyk7XHJcbiAgfVxyXG4gIGNvbnN0IHVzZXI6IE1vY2tVc2VyID0geyBfaWQ6IHJhbmRvbVVVSUQoKSwgbmFtZTogaW5wdXQubmFtZSwgZW1haWw6IGlucHV0LmVtYWlsLCByb2xlOiBpbnB1dC5yb2xlLCBjcmVhdGVkQXQ6IG5vdygpLCB1cGRhdGVkQXQ6IG5vdygpIH07XHJcbiAgZGIudXNlcnMudW5zaGlmdCh1c2VyKTtcclxuICByZXR1cm4gdXNlcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1vY2tEZWxldGVVc2VyKHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgYmVmb3JlID0gZGIudXNlcnMubGVuZ3RoO1xyXG4gIGRiLnVzZXJzID0gZGIudXNlcnMuZmlsdGVyKHUgPT4gdS5faWQgIT09IHVzZXJJZCk7XHJcbiAgcmV0dXJuIGRiLnVzZXJzLmxlbmd0aCAhPT0gYmVmb3JlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbW9ja0dldElzc3VlcyhmaWx0ZXI6IHsgY3JlYXRlZEJ5Pzogc3RyaW5nOyBzdGF0dXM/OiBJc3N1ZVN0YXR1cyB9ID0ge30pIHtcclxuICBsZXQgaXNzdWVzID0gZGIuaXNzdWVzLnNsaWNlKCk7XHJcbiAgaWYgKGZpbHRlci5jcmVhdGVkQnkpIGlzc3VlcyA9IGlzc3Vlcy5maWx0ZXIoaSA9PiBpLmNyZWF0ZWRCeSA9PT0gZmlsdGVyLmNyZWF0ZWRCeSk7XHJcbiAgaWYgKGZpbHRlci5zdGF0dXMpIGlzc3VlcyA9IGlzc3Vlcy5maWx0ZXIoaSA9PiBpLnN0YXR1cyA9PT0gZmlsdGVyLnN0YXR1cyk7XHJcbiAgY29uc3QgdXNlcnNCeUlkID0gbmV3IE1hcChkYi51c2Vycy5tYXAodSA9PiBbdS5faWQsIHVdKSk7XHJcbiAgcmV0dXJuIGlzc3Vlc1xyXG4gICAgLnNvcnQoKGEsIGIpID0+IGIuY3JlYXRlZEF0LmxvY2FsZUNvbXBhcmUoYS5jcmVhdGVkQXQpKVxyXG4gICAgLm1hcChpID0+ICh7XHJcbiAgICAgIC4uLmksXHJcbiAgICAgIGNyZWF0ZWRCeTogdXNlcnNCeUlkLmdldChpLmNyZWF0ZWRCeSk/Lm5hbWUgPyB7IG5hbWU6IHVzZXJzQnlJZC5nZXQoaS5jcmVhdGVkQnkpIS5uYW1lLCBlbWFpbDogdXNlcnNCeUlkLmdldChpLmNyZWF0ZWRCeSkhLmVtYWlsIH0gOiBudWxsLFxyXG4gICAgfSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbW9ja0NyZWF0ZUlzc3VlKGlucHV0OiB7IHRpdGxlOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmc7IGxvY2F0aW9uOiBzdHJpbmc7IGNyZWF0ZWRCeTogc3RyaW5nOyBwaG90b1VybD86IHN0cmluZyB9KSB7XHJcbiAgY29uc3QgaXNzdWU6IE1vY2tJc3N1ZSA9IHtcclxuICAgIF9pZDogcmFuZG9tVVVJRCgpLFxyXG4gICAgdGl0bGU6IGlucHV0LnRpdGxlLFxyXG4gICAgZGVzY3JpcHRpb246IGlucHV0LmRlc2NyaXB0aW9uLFxyXG4gICAgbG9jYXRpb246IGlucHV0LmxvY2F0aW9uLFxyXG4gICAgc3RhdHVzOiAncGVuZGluZycsXHJcbiAgICBjcmVhdGVkQnk6IGlucHV0LmNyZWF0ZWRCeSxcclxuICAgIGNyZWF0ZWRBdDogbm93KCksXHJcbiAgICB1cGRhdGVkQXQ6IG5vdygpLFxyXG4gICAgcGhvdG9Vcmw6IGlucHV0LnBob3RvVXJsLFxyXG4gIH07XHJcbiAgZGIuaXNzdWVzLnVuc2hpZnQoaXNzdWUpO1xyXG4gIHJldHVybiBpc3N1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1vY2tVcGRhdGVJc3N1ZShpZDogc3RyaW5nLCB1cGRhdGU6IFBhcnRpYWw8UGljazxNb2NrSXNzdWUsICdzdGF0dXMnIHwgJ3RpdGxlJyB8ICdkZXNjcmlwdGlvbicgfCAnbG9jYXRpb24nPj4pIHtcclxuICBjb25zdCBpZHggPSBkYi5pc3N1ZXMuZmluZEluZGV4KGkgPT4gaS5faWQgPT09IGlkKTtcclxuICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuIGZhbHNlO1xyXG4gIGRiLmlzc3Vlc1tpZHhdID0geyAuLi5kYi5pc3N1ZXNbaWR4XSwgLi4udXBkYXRlLCB1cGRhdGVkQXQ6IG5vdygpIH07XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtb2NrRGVsZXRlSXNzdWUoaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGJlZm9yZSA9IGRiLmlzc3Vlcy5sZW5ndGg7XHJcbiAgZGIuaXNzdWVzID0gZGIuaXNzdWVzLmZpbHRlcihpID0+IGkuX2lkICE9PSBpZCk7XHJcbiAgcmV0dXJuIGRiLmlzc3Vlcy5sZW5ndGggIT09IGJlZm9yZTtcclxufVxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJyYW5kb21VVUlEIiwibm93IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic2VlZFVzZXJzIiwiX2lkIiwibmFtZSIsImVtYWlsIiwicm9sZSIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsIlUwIiwiVTQiLCJzZWVkSXNzdWVzIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImxvY2F0aW9uIiwic3RhdHVzIiwiY3JlYXRlZEJ5IiwicGhvdG9VcmwiLCJkYiIsInVzZXJzIiwiaXNzdWVzIiwibW9ja0dldFVzZXJzIiwiZmlsdGVyIiwidSIsInNvcnQiLCJhIiwiYiIsImxvY2FsZUNvbXBhcmUiLCJtb2NrQ3JlYXRlVXNlciIsImlucHV0Iiwic29tZSIsIkVycm9yIiwidXNlciIsInVuc2hpZnQiLCJtb2NrRGVsZXRlVXNlciIsInVzZXJJZCIsImJlZm9yZSIsImxlbmd0aCIsIm1vY2tHZXRJc3N1ZXMiLCJzbGljZSIsImkiLCJ1c2Vyc0J5SWQiLCJNYXAiLCJtYXAiLCJnZXQiLCJtb2NrQ3JlYXRlSXNzdWUiLCJpc3N1ZSIsIm1vY2tVcGRhdGVJc3N1ZSIsImlkIiwidXBkYXRlIiwiaWR4IiwiZmluZEluZGV4IiwibW9ja0RlbGV0ZUlzc3VlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mockData.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectToDatabase: () => (/* binding */ connectToDatabase)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI || \"mongodb://localhost:27017/fixmycity\";\nconst MONGODB_DB = process.env.MONGODB_DB || \"fixmycity\";\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\nif (!MONGODB_DB) {\n    throw new Error(\"Please define the MONGODB_DB environment variable inside .env.local\");\n}\nlet cachedClient = null;\nlet cachedDb = null;\nasync function connectToDatabase() {\n    if (cachedClient && cachedDb) {\n        return {\n            client: cachedClient,\n            db: cachedDb\n        };\n    }\n    const client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(MONGODB_URI);\n    await client.connect();\n    const db = client.db(MONGODB_DB);\n    cachedClient = client;\n    cachedDb = db;\n    return {\n        client,\n        db\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBDO0FBRTFDLE1BQU1DLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0YsV0FBVyxJQUFJO0FBQy9DLE1BQU1HLGFBQWFGLFFBQVFDLEdBQUcsQ0FBQ0MsVUFBVSxJQUFJO0FBRTdDLElBQUksQ0FBQ0gsYUFBYTtJQUNoQixNQUFNLElBQUlJLE1BQU07QUFDbEI7QUFFQSxJQUFJLENBQUNELFlBQVk7SUFDZixNQUFNLElBQUlDLE1BQU07QUFDbEI7QUFFQSxJQUFJQyxlQUFtQztBQUN2QyxJQUFJQyxXQUFzQjtBQUVuQixlQUFlQztJQUNwQixJQUFJRixnQkFBZ0JDLFVBQVU7UUFDNUIsT0FBTztZQUFFRSxRQUFRSDtZQUFjSSxJQUFJSDtRQUFTO0lBQzlDO0lBRUEsTUFBTUUsU0FBUyxJQUFJVCxnREFBV0EsQ0FBQ0M7SUFDL0IsTUFBTVEsT0FBT0UsT0FBTztJQUNwQixNQUFNRCxLQUFLRCxPQUFPQyxFQUFFLENBQUNOO0lBRXJCRSxlQUFlRztJQUNmRixXQUFXRztJQUVYLE9BQU87UUFBRUQ7UUFBUUM7SUFBRztBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpeG15Y2l0eS8uL3NyYy9saWIvbW9uZ29kYi50cz81M2MyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbmdvQ2xpZW50LCBEYiB9IGZyb20gJ21vbmdvZGInO1xyXG5cclxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSSB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9maXhteWNpdHknO1xyXG5jb25zdCBNT05HT0RCX0RCID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9EQiB8fCAnZml4bXljaXR5JztcclxuXHJcbmlmICghTU9OR09EQl9VUkkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBkZWZpbmUgdGhlIE1PTkdPREJfVVJJIGVudmlyb25tZW50IHZhcmlhYmxlIGluc2lkZSAuZW52LmxvY2FsJyk7XHJcbn1cclxuXHJcbmlmICghTU9OR09EQl9EQikge1xyXG4gIHRocm93IG5ldyBFcnJvcignUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9EQiBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbCcpO1xyXG59XHJcblxyXG5sZXQgY2FjaGVkQ2xpZW50OiBNb25nb0NsaWVudCB8IG51bGwgPSBudWxsO1xyXG5sZXQgY2FjaGVkRGI6IERiIHwgbnVsbCA9IG51bGw7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdFRvRGF0YWJhc2UoKTogUHJvbWlzZTx7IGNsaWVudDogTW9uZ29DbGllbnQ7IGRiOiBEYiB9PiB7XHJcbiAgaWYgKGNhY2hlZENsaWVudCAmJiBjYWNoZWREYikge1xyXG4gICAgcmV0dXJuIHsgY2xpZW50OiBjYWNoZWRDbGllbnQsIGRiOiBjYWNoZWREYiB9O1xyXG4gIH1cclxuXHJcbiAgY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KE1PTkdPREJfVVJJKTtcclxuICBhd2FpdCBjbGllbnQuY29ubmVjdCgpO1xyXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKE1PTkdPREJfREIpO1xyXG5cclxuICBjYWNoZWRDbGllbnQgPSBjbGllbnQ7XHJcbiAgY2FjaGVkRGIgPSBkYjtcclxuXHJcbiAgcmV0dXJuIHsgY2xpZW50LCBkYiB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfREIiLCJFcnJvciIsImNhY2hlZENsaWVudCIsImNhY2hlZERiIiwiY29ubmVjdFRvRGF0YWJhc2UiLCJjbGllbnQiLCJkYiIsImNvbm5lY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fissues%2Froute&page=%2Fapi%2Fissues%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fissues%2Froute.ts&appDir=C%3A%5CFixMyCity%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CFixMyCity&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();